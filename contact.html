---
layout: default
title: "Contact Me"
---

<div class="page-banner">
  <h1 class="title-effect-emboss">Contact Me</h1>
  <p>Let's build something great together</p>
</div>

<div class="contact-form">
    <p>Can't wait to hear from you. I will respond as soon as I can.</p>
    <form action="/submit_form" method="POST" id="contact-form">
      <!-- Multiple hidden honeypot fields with different names -->
      <div style="position: absolute; left: -9999px; opacity: 0; pointer-events: none;">
        <input type="text" name="honeypot" tabindex="-1" autocomplete="off">
        <input type="email" name="email_confirm" tabindex="-1" autocomplete="off">
        <input type="text" name="website_url" tabindex="-1" autocomplete="off">
        <input type="text" name="company_name" tabindex="-1" autocomplete="off">
        <input type="tel" name="phone_number" tabindex="-1" autocomplete="off">
      </div>

      <!-- Time-based protection (form must be open for at least 3 seconds) -->
      <input type="hidden" name="form_load_time" id="form-load-time">
      
      <!-- Session token for CSRF protection -->
      <input type="hidden" name="session_token" id="session-token">

      <div class="form-row">
        <div class="form-element">
          <label for="inquiry_type">Inquiry Type:</label>
          <select id="inquiry_type" name="inquiry_type" required>
            <option value="project">I need help with a project</option>
            <option value="general">I have a question</option>
            <option value="personal">Just saying hello</option>
            <option value="other">Other</option>
          </select>
        </div>
  
        <div class="form-element">
          <label for="website">Website:</label>
          <input type="url" id="website" name="website">
        </div>
      </div>
      

      <div class="form-row mt-2">
        <div class="form-element">
          <label for="name">Name:</label>
          <input type="text" id="name" name="name" required minlength="2" maxlength="100">
        </div>

        <div class="form-element">
          <label for="email">Email:</label>
          <input type="email" id="email" name="email" required>
        </div>
      </div>

      <div class="form-element mt-3">
        <label for="message">Message:</label>
        <textarea id="message" name="message" required minlength="10" maxlength="2000" placeholder="Please describe your project or question in detail..."></textarea>
      </div>

      <!-- Enhanced CAPTCHA with multiple question types -->
      <div class="form-element security-question">
        <label for="captcha">Security Question: <span id="captcha-question"></span></label>
        <input type="text" id="captcha" name="captcha" required autocomplete="off">
        <input type="hidden" id="captcha-answer" name="captcha_answer">
      </div>

      <!-- reCAPTCHA placeholder (you'll need to add your site key) -->
      <div class="form-element mt-3">
        <div class="g-recaptcha" data-sitekey="YOUR_RECAPTCHA_SITE_KEY"></div>
      </div>

      <button class="contact-submit-btn mt-3" type="submit" id="submit-btn" disabled>
        <span class="btn-text">Send Message</span>
        <span class="btn-loading" style="display: none;">Sending...</span>
      </button>
    </form>
  </div>

</div>

<script>
  // Anti-spam protection system
  let formLoadTime;
  let userInteracted = false;
  let keypressCount = 0;
  
  // Generate enhanced CAPTCHA with multiple question types
  function generateCaptcha() {
    const captchaTypes = [
      // Math questions
      () => {
        const num1 = Math.floor(Math.random() * 10) + 1;
        const num2 = Math.floor(Math.random() * 10) + 1;
        const operations = ['+', '-', '×'];
        const op = operations[Math.floor(Math.random() * operations.length)];
        let answer;
        let question;
        
        if (op === '+') {
          answer = num1 + num2;
          question = `${num1} + ${num2}`;
        } else if (op === '-') {
          const larger = Math.max(num1, num2);
          const smaller = Math.min(num1, num2);
          answer = larger - smaller;
          question = `${larger} - ${smaller}`;
        } else {
          answer = num1 * num2;
          question = `${num1} × ${num2}`;
        }
        
        return { question, answer: answer.toString() };
      },
      
      // Word questions
      () => {
        const questions = [
          { q: "What color is the sky on a clear day?", a: "blue" },
          { q: "How many days are in a week?", a: "7" },
          { q: "What is the opposite of 'hot'?", a: "cold" },
          { q: "What comes after Monday?", a: "tuesday" },
          { q: "What is 2 + 2?", a: "4" }
        ];
        const selected = questions[Math.floor(Math.random() * questions.length)];
        return { question: selected.q, answer: selected.a.toLowerCase() };
      }
    ];
    
    const captchaType = captchaTypes[Math.floor(Math.random() * captchaTypes.length)];
    const { question, answer } = captchaType();
    
    document.getElementById('captcha-question').innerText = question;
    document.getElementById('captcha-answer').value = answer;
  }
  
  // Generate session token
  function generateSessionToken() {
    const token = Math.random().toString(36).substring(2) + Date.now().toString(36);
    document.getElementById('session-token').value = token;
    sessionStorage.setItem('contact_token', token);
  }
  
  // Track user interaction
  function trackUserInteraction(event) {
    if (!userInteracted) {
      userInteracted = true;
      document.getElementById('submit-btn').disabled = false;
    }
    // Add class to show validation styles only after user interaction
    if (event && event.target) {
      event.target.classList.add('user-interacted');
    }
  }
  
  // Track keypress patterns
  function trackKeypress() {
    keypressCount++;
  }
  
  // Form validation and spam detection
  function validateForm(event) {
    const form = event.target;
    const submitBtn = document.getElementById('submit-btn');
    
    // Check if honeypots are filled
    const honeypots = ['honeypot', 'email_confirm', 'website_url', 'company_name', 'phone_number'];
    for (let field of honeypots) {
      if (form[field] && form[field].value.trim() !== '') {
        event.preventDefault();
        alert('Please try again.');
        return false;
      }
    }
    
    // Check minimum time spent on form (must be at least 3 seconds)
    const currentTime = Date.now();
    const timeDiff = (currentTime - formLoadTime) / 1000;
    if (timeDiff < 3) {
      event.preventDefault();
      alert('Please take your time filling out the form.');
      return false;
    }
    
    // Check if user interacted with form
    if (!userInteracted || keypressCount < 5) {
      event.preventDefault();
      alert('Please fill out the form completely.');
      return false;
    }
    
    // Validate CAPTCHA
    const userAnswer = document.getElementById('captcha').value.toLowerCase().trim();
    const correctAnswer = document.getElementById('captcha-answer').value.toLowerCase().trim();
    if (userAnswer !== correctAnswer) {
      event.preventDefault();
      alert('Please solve the security question correctly.');
      generateCaptcha(); // Generate new CAPTCHA
      return false;
    }
    
    // Check session token
    const formToken = document.getElementById('session-token').value;
    const storedToken = sessionStorage.getItem('contact_token');
    if (formToken !== storedToken) {
      event.preventDefault();
      alert('Session expired. Please refresh the page.');
      return false;
    }
    
    // All checks passed - show loading state
    submitBtn.disabled = true;
    submitBtn.querySelector('.btn-text').style.display = 'none';
    submitBtn.querySelector('.btn-loading').style.display = 'inline';
    
    return true;
  }
  
  // Initialize on page load
  document.addEventListener('DOMContentLoaded', function() {
    formLoadTime = Date.now();
    document.getElementById('form-load-time').value = formLoadTime;
    
    generateCaptcha();
    generateSessionToken();
    
    // Check for pre-filled data from services page
    const prefilledMessage = sessionStorage.getItem('prefilledMessage');
    const prefilledInquiry = sessionStorage.getItem('prefilledInquiry');
    
    if (prefilledMessage) {
      document.getElementById('message').value = prefilledMessage;
      sessionStorage.removeItem('prefilledMessage');
    }
    
    if (prefilledInquiry) {
      document.getElementById('inquiry_type').value = prefilledInquiry;
      sessionStorage.removeItem('prefilledInquiry');
    }
    
    // Add interaction listeners
    const form = document.getElementById('contact-form');
    const inputs = form.querySelectorAll('input, textarea, select');
    
    inputs.forEach(input => {
      input.addEventListener('focus', trackUserInteraction);
      input.addEventListener('input', trackUserInteraction);
      input.addEventListener('keypress', trackKeypress);
    });
    
    // Add form submit listener
    form.addEventListener('submit', validateForm);
    
    // Re-enable submit button after user interaction
    setTimeout(() => {
      if (userInteracted) {
        document.getElementById('submit-btn').disabled = false;
      }
    }, 3000);
  });
  
  // Additional protection: detect rapid form submissions
  let lastSubmissionTime = 0;
  document.addEventListener('submit', function(e) {
    const currentTime = Date.now();
    if (currentTime - lastSubmissionTime < 5000) { // 5 second cooldown
      e.preventDefault();
      alert('Please wait before submitting again.');
      return false;
    }
    lastSubmissionTime = currentTime;
  });
</script>

<!-- Load reCAPTCHA (uncomment and add your site key when ready) -->
<!-- <script src="https://www.google.com/recaptcha/api.js" async defer></script> -->